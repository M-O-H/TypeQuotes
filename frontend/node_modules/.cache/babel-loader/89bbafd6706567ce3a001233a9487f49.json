{"ast":null,"code":"import _slicedToArray from\"/home/m-o-h/programs/Lap/typing-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/home/m-o-h/programs/Lap/typing-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/m-o-h/programs/Lap/typing-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"/home/m-o-h/programs/Lap/typing-game/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from'react';import GoogleButton from'react-google-button';import styled from'styled-components';import{Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-item: center;\\n\\tpadding: 3rem;\\n\"])));var redirectToGoogleSSO=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var googleLoginURL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:googleLoginURL=\"http://localhost:3001/auth/google/\";window.open(googleLoginURL,\"_self\",\"width=500, height=600\");case 2:case\"end\":return _context.stop();}}},_callee);}));return function redirectToGoogleSSO(){return _ref.apply(this,arguments);};}();var Login=function Login(){var _useState=useState(function(){return false;}),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];var fetchUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/user\").then(function(res){return res.json();}).then(function(data){setAuth(true);}).catch(function(err){if(err)setAuth(false);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchUser(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchUser();document.onkeydown=null;},[]);return/*#__PURE__*/_jsx(Container,{children:// loader === false? <SpinnerWrapper className=\"SpinnerWrapper\"><Spinner className=\"spinner\" animation=\"border\" /></SpinnerWrapper> :\nauth?/*#__PURE__*/_jsx(Redirect,{to:\"/profile\"}):/*#__PURE__*/_jsx(GoogleButton,{onClick:redirectToGoogleSSO,style:{width:\"17em\"}})});};export default Login;","map":{"version":3,"sources":["/home/m-o-h/programs/Lap/typing-game/frontend/src/components/page/Login.js"],"names":["React","useState","useEffect","GoogleButton","styled","Redirect","Container","div","redirectToGoogleSSO","googleLoginURL","window","open","Login","auth","setAuth","fetchUser","fetch","then","res","json","data","catch","err","document","onkeydown","width"],"mappings":"irBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,2CAEA,GAAMC,CAAAA,SAAS,CAAGF,MAAM,CAACG,GAAV,0JAAf,CAQA,GAAMC,CAAAA,mBAAmB,0FAAG,sJACrBC,cADqB,CACJ,oCADI,CAE3BC,MAAM,CAACC,IAAP,CAAYF,cAAZ,CAA2B,OAA3B,CAAoC,uBAApC,EAF2B,sDAAH,kBAAnBD,CAAAA,mBAAmB,0CAAzB,CAKA,GAAMI,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CACnB,cAAwBX,QAAQ,CAAC,iBAAI,MAAJ,EAAD,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,SAAS,2FAAG,+JACVC,CAAAA,KAAK,CAAC,OAAD,CAAL,CACLC,IADK,CACA,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADH,EAELF,IAFK,CAEA,SAAAG,IAAI,CAAI,CACZN,OAAO,CAAC,IAAD,CAAP,CACD,CAJK,EAKLO,KALK,CAKC,SAAAC,GAAG,CAAI,CAAC,GAAGA,GAAH,CAAQR,OAAO,CAAC,KAAD,CAAP,CAAe,CALhC,CADU,yDAAH,kBAATC,CAAAA,SAAS,2CAAf,CAQAb,SAAS,CAAC,UAAM,CACda,SAAS,GACTQ,QAAQ,CAACC,SAAT,CAAqB,IAArB,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACC,KAAC,SAAD,WAEE;AACAX,IAAI,cAAG,KAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAAH,cACJ,KAAC,YAAD,EAAc,OAAO,CAAEL,mBAAvB,CAA4C,KAAK,CAAE,CAACiB,KAAK,CAAE,MAAR,CAAnD,EAJF,EADD,CASA,CAzBD,CA2BA,cAAeb,CAAAA,KAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport GoogleButton from 'react-google-button';\nimport styled from 'styled-components'\nimport { Redirect } from \"react-router-dom\";\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-item: center;\n\tpadding: 3rem;\n`\n\n\nconst redirectToGoogleSSO = async ()=> {\n\tconst googleLoginURL = \"http://localhost:3001/auth/google/\";\n\twindow.open(googleLoginURL,\"_self\", \"width=500, height=600\");\n}\n\nconst Login = () => {\n\tconst [auth, setAuth] = useState(()=>false)\n  \n\tconst fetchUser = async () => {\n\t  await fetch(\"/user\")\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t  setAuth(true)\n\t\t\t})\n\t\t\t.catch(err => {if(err) setAuth(false)})\n\t}\n\tuseEffect(() => {\n\t  fetchUser()\n\t  document.onkeydown = null;\n\t}, [])\n\n\treturn (\n\t\t<Container>\n\t\t\t{\n\t\t\t\t// loader === false? <SpinnerWrapper className=\"SpinnerWrapper\"><Spinner className=\"spinner\" animation=\"border\" /></SpinnerWrapper> :\n\t\t\t\tauth ? <Redirect to=\"/profile\" /> : \n\t\t\t\t<GoogleButton onClick={redirectToGoogleSSO} style={{width: \"17em\"}}/>\n\t\t\t}\n\t\t</Container>\n\t)\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}